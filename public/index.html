<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang='en' xml:lang='en' xmlns='http://www.w3.org/1999/xhtml'>
  <head>
        <title></title>

        <meta content='text/html; charset=utf-8' http-equiv='Content-Type' />
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
        <link rel="stylesheet" href="css/cpdbviz.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">

        <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
        <script type="text/javascript" src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.13.2/jquery-ui.min.js"></script>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.4/d3.min.js"></script>
        <script type="text/javascript" src="https://unpkg.com/d3fc@15.2.6/build/d3fc.js"></script>

        <script type="text/javascript" src="https://d3js.org/d3-scale-chromatic.v1.min.js"></script>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/raphael/2.3.0/raphael.min.js"></script>
        <script src="./js/sankey.js" type="text/javascript"></script>
        <script src="./js/cpdbviz.js" type="text/javascript"></script>
  </head>
  <body>
        <h4 class="center" id="page_header"></h4>
        <div class="col s12">
          <div class="row">
            <!-- Celltype composition sankey plot -->
            <div>
              <div class="col s12 m6 l6">
                <div class="card blue-grey darken-1" >
                  <div class="card-content black-text col s12">
                    <span class="card-title center">Cell composition</span>
                    <span id="ctcomp_header" class="card-title center" style="font-size: 16px;"></span>
                      <div id="ctcomp" style="width:1000px"></div>
                  </div>
                </div>
              </div>

            <!-- Spatial micro-environments plot -->
            <div>
              <div class="col s12 m6 l6">
                <div class="card" >
                  <div class="card-content black-text col s12">
                    <span class="card-title center">Spatial microenvironments</span>
                    <span id="spme_header" class="card-title center" style="font-size: 16px;"></span>
                      <div id="spme" style="width:800px"></div>
                  </div>
                </div>
              </div>

            </div>
          </div> <!-- <div class="row"> -->


               <div class="col s12">
          <div class="row">

            <div id="search_results" hidden>
              <div class="card">
                <div class="card-content black-text col s12">
                  <div id="search_results_table"  class="col s12">
                    <span id="search_results_title" class="card-title"></span>
                    <div hidden id="search_results_csv"></div>
                    <div class="divider"></div>
                      <span style="color: blue"><i>Click on an interaction partner name for more information.</i></span>
                    <p />
                  </div>
                </div>
              </div>
            </div>

              <div class="col s12 m3 l3">
                <div class="card" >
                  <div class="card-content black-text col s12">
                    <div class="row">
                      <div class="col s12">
                        <div class="row">
                          <div style="padding-left: 20px; padding-top: 100px;">
                              <div class="input-field">
                                <input type="text" id="sge-gene-input" class="autocomplete" placeholder="Gene name">
                                <label for="sge-gene-input" class="black-text text-lighten-10">Add genes to the plot</label>
                              </div>
                              <div class="sge_selected_genes"></div>
                              <div class="input-field">
                                <input type="text" id="sge-celltype-input" class="autocomplete" placeholder="Cell type">
                                <label for="sge-celltype-input" class="black-text text-lighten-10">Add cell types to the plot</label>
                              </div>
                              <div class="sge_selected_celltypes"></div>
                          </div>
                        </div>
                        <div class="section">
                          <button id="refresh_plot_btn" style="text-transform: none;" class="btn waves-effect waves-light" onclick="refreshSGEPlot()">Refresh plot</button>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <div class="col s12 m9 l9 push-s1">
                <div class="card" >
                    <span class="card-title left" style="padding-left: 150px;">Single gene expression</span>
                    <div class="card-content black-text col s12">
                    <span id="sge_header" class="card-title center" style="font-size: 16px;">Mean expressions of genes per cell type</span>
                      <div id="sge" style="width:1000px"></div>
                </div>
              </div>

          </div> <!-- <div class="row"> -->
        </div>

        </div>
  </body>
</html>
